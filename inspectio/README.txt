Overview                                                                                                                                                                                                                                                                      
========                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                              
Track the IO done by each process (open,read,write,close ).                                                                                                                                                                                                                   
If it is a mpi process, the rank is catch and the log file contain the hostname.rank.pid.                                                                                                                                                                                     
If it is not a mpi process, only the hostname.pid is append to the log                                                                                                                                                                                                        
filename.                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                              
Exemple slurm script                                                                                                                                                                                                                                                          
=============                                                                                                                                                                                                                                                                 
#SBATCH ...                                                                                                                                                                                                                                                                   
#SBATCH ...                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                              
source  ~peyrardj/lib/inspectio/env.sh                                                                                                                                                                                                                                        
source /opt/intel/compilers_and_libraries_2017.4.196/linux/bin/compilervars.sh intel64                                                                                                                                                                                        
                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                              
mpiexec.hydra \                                                                                                                                                                                                                                                               
        -hostfile               hostfile_$SLURM_JOBID           \                                                                                                                                                                                                             
        -ppn                    $TASKSBYNODES                   \                                                                                                                                                                                                             
        -n                      $TASKS                          \                                                                                                                                                                                                             
        $BIN -f                 input_write                                                                                                                                                                                                                                   
mpiexec.hydra \                                                                                                                                                                                                                                                               
        -hostfile               hostfile_$SLURM_JOBID           \                                                                                                                                                                                                             
        -ppn                    $TASKSBYNODES                   \                                                                                                                                                                                                             
        -n                      $TASKS                          \                                                                                                                                                                                                             
        $BIN -f                 input_read                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                              
grep_inspectio_log                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                              
Result                                                                                                                                                                                                                                                                        
======                                                                                                                                                                                                                                                                        
                       HOST     RANK     PID                                                                                                                                                                                                                                  
LOG.48286/inspectiolog.genji206.00000000.13181:SUMARY[    CALL   MBYTE      SEC           CALL   MBYTE     SEC       FD OLDFD STATE NAME                                                                                                                                      
LOG.48286/inspectiolog.genji206.00000000.13181:WRITE [     128  2147.5     4.7 ] READ[       0     0.0     0.0 ]  [   -1    31     5 fichier.00000000]                                                                                                                        
LOG.48286/inspectiolog.genji206.00000000.13181:IOTIME[          2147.5     4.8 ] R/W [             0.0     0.9    ]BW[   380.5 MB/s ]                                                                                                                                         
LOG.48286/inspectiolog.genji206.00000000.13252:SUMARY[    CALL   MBYTE      SEC           CALL   MBYTE     SEC       FD OLDFD STATE NAME                                                                                                                                      
LOG.48286/inspectiolog.genji206.00000000.13252:WRITE [       0     0.0     0.0 ] READ[     128  2147.5     2.6 ]  [   -1    31     5 fichier.00000000]                                                                                                                        
LOG.48286/inspectiolog.genji206.00000000.13252:IOTIME[             0.0     0.0 ] R/W [          2147.5     2.8    ]BW[   759.1 MB/s ]                                                                                                                                         
LOG.48286/inspectiolog.genji207.00000001.11490:SUMARY[    CALL   MBYTE      SEC           CALL   MBYTE     SEC       FD OLDFD STATE NAME                                                                                                                                      
LOG.48286/inspectiolog.genji207.00000001.11490:WRITE [     128  2147.5     4.3 ] READ[       0     0.0     0.0 ]  [   -1    22     5 fichier.00000001]                                                                                                                        
LOG.48286/inspectiolog.genji207.00000001.11490:IOTIME[          2147.5     4.3 ] R/W [             0.0     0.0    ]BW[   493.9 MB/s ]                                                                                                                                         
LOG.48286/inspectiolog.genji207.00000001.11564:SUMARY[    CALL   MBYTE      SEC           CALL   MBYTE     SEC       FD OLDFD STATE NAME                                                                                                                                      
LOG.48286/inspectiolog.genji207.00000001.11564:WRITE [       0     0.0     0.0 ] READ[     128  2147.5     2.6 ]  [   -1    22     5 fichier.00000001]                                                                                                                        
LOG.48286/inspectiolog.genji207.00000001.11564:IOTIME[             0.0     0.0 ] R/W [          2147.5     2.6    ]BW[   834.5 MB/s ]                                                                                                                                         
                                                                                                                                                                                             
